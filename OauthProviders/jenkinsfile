node {
	stage('compile-stage')
	{
	             
				  withMaven(maven:'Maven_3_3_9')
				  {
								 sh 'mvn -f pom.xml clean compile'
				  }
	           
	}                                                                                                                                  
	stage('Build-stage')
	{
	   
				  withMaven(maven:'Maven_3_3_9')
				  {
								 sh 'mvn -f pom.xml package'
								 sh 'echo pwd'
				  }
	    
	}
	stage('Upload')
        {
            ftpPublisher alwaysPublishFromMaster: true, continueOnError: false, failOnError: false, publishers: [
                [configName: 'FoodOrderApp', transfers: [
                    [remoteDirectory: "/var/lib/jenkins/" , sourceFiles: "/var/lib/jenkins/workspace/OAuth project/target/"]
                ], usePromotionTimestamp: false, useWorkspaceInPromotion: false, verbose: true]
            ]
        }
}
