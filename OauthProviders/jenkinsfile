node {
	stage('compile-stage')
	{
	             
				  withMaven(maven:'Maven_3_3_9')
				  {
								 sh 'mvn -f pom.xml clean compile'
				  }
	           
	}                                                                                                                                  
	stage('Build-stage')
	{
	   
				  withMaven(maven:'Maven_3_3_9')
				  {
								 sh 'mvn -f pom.xml package'
				  }
	    
	}
	stage('Upload')
        {
            ftpPublisher alwaysPublishFromMaster: true, continueOnError: false, failOnError: false, publishers: [
                [configName: 'FoodOrderApp', transfers: [
                    [sourceFiles: "com/example/demo/0.0.1-SNAPSHOT/demo-0.0.1-SNAPSHOT.jar"]
                ], usePromotionTimestamp: false, useWorkspaceInPromotion: false, verbose: true]
            ]
        }
}
