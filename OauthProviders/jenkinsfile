node {
	stage('compile-stage')
	{
	             
				  withMaven(maven:'Maven_3_3_9')
				  {
								 sh 'mvn -f pom.xml clean compile'
				  }
	           
	}                                                                                                                                  
	stage('Build-stage')
	{
	   
				  withMaven(maven:'Maven_3_3_9')
				  {
								 sh 'mvn -f pom.xml package'
				  }
	    
	}
	stage('Upload')
        {
            ftpPublisher alwaysPublishFromMaster: true, continueOnError: false, failOnError: false, publishers: [
                [configName: 'FoodOrderApp', transfers: [
                    [asciiMode: false, cleanRemote: false, excludes: '', flatten: false, makeEmptyDirs: false, noDefaultExcludes: false, patternSeparator: '[, ]+', remoteDirectory: "/var/lib/jenkins/", remoteDirectorySDF: false, removePrefix: '', sourceFiles: '/var/lib/jenkins/workspace/OAuth project/target/']
                ], usePromotionTimestamp: false, useWorkspaceInPromotion: false, verbose: true]
            ]
        }
}
